<div class="form-intro">
  <h2>I want to help.</h2>
  <p>It has never been more important to <strong>#BeKIND</strong>.</p>
  <p>Become a hero and help your neighbours in their hour of need.</p>
  <p>Your information and offer of help will only be visible to those searching in your area.</p>
</div>

<form [formGroup]="registrationForm" (ngSubmit)="submitForm()" class="form" *ngIf="registrationForm && !success">
  <div class="form-row">
    <label class="form-label">Name:</label>
    <div class="form-input">
      <input type="text" formControlName="name" required />
      <div *ngIf="name.invalid && name.touched">
        A name is required
      </div>
    </div>
  </div>
  <div class="form-row form-row--postcode">
    <label class="form-label">Postcode: <span>Only enter the first 4 characters, for example BD20.</span></label>
    <div class="form-input">
      <input type="text" formControlName="partialPostcode" required />
      <div *ngIf="partialPostcode.invalid && partialPostcode.touched">
        The first half of a postcode is required
      </div>
    </div>
  </div>
  <div class="form-row">
    <label class="form-label">
      Mobile Number:
      <span>Your number will be publicly visible to those searching for help.</span>
    </label>
    <div class="form-input">
      <input type="text" formControlName="contactPhone" placeholder="e.g. 07895 123456" required />
      <div *ngIf="contactPhone.invalid && contactPhone.touched">
        Please provide a mobile number in either UK Format (07xx) or international format (+447xx)
      </div>
    </div>
  </div>
  <div class="form-row">
    <label class="form-label">How Can You Help?</label>
    <div class="form-input">
      <textarea formControlName="servicesProvided" placeholder="e.g. I can help collect medication, food, shopping, etc. I can walk your dog or be on the other end of a phone for a friendly chat." required></textarea>
      <div *ngIf="servicesProvided.invalid && servicesProvided.touched">
        Please tell us what help you can offer to people in need, minimum 10 characters
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-warning">
      <div class="check">
        <input id="ipt-consent" type="checkbox" formControlName="gdprConsent" />
        <label for="ipt-consent">I am over the age of 18 and I give consent for my details to be publicly displayed on the KIND website and for those in need to contact me on the mobile number provided.</label>
        <div *ngIf="gdprConsent.invalid && gdprConsent.dirty && gdprConsent.errors.pattern != null">
          You need to accept these terms to sign up
        </div>
      </div>
    </div>
  </div>
  <button class="btn" type="submit" [disabled]="!registrationForm.valid">Submit</button>
  <span *ngIf="error">{{ error }}</span>
  <span *ngIf="success">Thank you - a text has been sent to the mobile number provided for confirmation</span>
</form>
<div *ngIf="success">
  <h1>Thank you! And thank you again.</h1>
  <p>Your submission of help is greatly appreciated. Hopefully a person or family in need will be in touch shortly.</p>
  <div>
    If your situation changes and you need to amend your offering or remote it completely. Simply search for your detail
    via the help finder and click on "edit/remove offer"
  </div>
</div>
